<mat-toolbar class="app-header">
  <div class="container">
    <div class="header-content">
      <!-- Logo -->
      <a routerLink="/" class="logo">
        <span class="logo-icon">üçõ</span>
        <span class="logo-text">DesiCorner</span>
      </a>

      <!-- Navigation -->
      <nav class="nav-links">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          Home
        </a>
        <a routerLink="/products" routerLinkActive="active">
          Menu
        </a>
        @if (authService.authState$ | async; as authState) {
          @if (authState.isAuthenticated) {
            <a routerLink="/orders" routerLinkActive="active">
              My Orders
            </a>
            @if (authService.isAdmin()) {
              <a routerLink="/admin" routerLinkActive="active">
                Admin
              </a>
            }
          }
        }
      </nav>

      <!-- Actions -->
      <div class="header-actions">
        <!-- Cart -->
        <button mat-icon-button routerLink="/cart" [matBadge]="cartItemCount" [matBadgeHidden]="cartItemCount === 0" matBadgeColor="accent">
          <mat-icon>shopping_cart</mat-icon>
        </button>

        <!-- User Menu -->
        @if (authService.authState$ | async; as authState) {
          @if (authState.isAuthenticated) {
            <button mat-button [matMenuTriggerFor]="userMenu">
              <mat-icon>account_circle</mat-icon>
              <span class="user-name">{{ authState.profile?.email }}</span>
            </button>
            <mat-menu #userMenu="matMenu">
              <button mat-menu-item routerLink="/profile">
                <mat-icon>person</mat-icon>
                <span>Profile</span>
              </button>
              <button mat-menu-item routerLink="/orders">
                <mat-icon>receipt</mat-icon>
                <span>Orders</span>
              </button>
              <mat-divider></mat-divider>
              <button mat-menu-item (click)="logout()">
                <mat-icon>logout</mat-icon>
                <span>Logout</span>
              </button>
            </mat-menu>
          } @else {
            <button mat-raised-button color="primary" routerLink="/auth/login">
              Login
            </button>
          }
        }
      </div>
    </div>
  </div>
</mat-toolbar>